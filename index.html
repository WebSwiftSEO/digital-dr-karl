<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Digital Dr Karl 🧑‍🔬</title>

  <!-- =====================================================
      ✅ DIGITAL DR KARL DEMO WEBSITE - DEV INSTRUCTIONS ✅
  ===========================================================
      1. This is a DEMO with random bot analysis + science jokes.
      2. Clone/Fork the project: https://github.com/WebSwiftSEO?tab=repositories
      3. Install as PWA on Android/iPhone.
      4. Offline support via Service Worker (add service-worker.js).
  =========================================================== -->

  <meta name="theme-color" content="#FFD700" />
  <meta property="og:title" content="Digital Dr Karl 🧑‍🔬" />
  <meta property="og:description" content="Analyze X profiles, detect bots, and laugh while learning!" />
  <meta name="twitter:card" content="summary_large_image" />

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('✅ Service Worker Registered'))
        .catch(err => console.log('❌ Service Worker Error:', err));
    }
  </script>

  <style>
    /* [Same styles as earlier example, omitted for brevity] */
  </style>
</head>

<body>

  <div class="container">
    <h1>Digital Dr Karl 🧑‍🔬</h1>
    <p>Analyze X profiles, detect bots, and have a laugh! 🤖⚡</p>

    <input type="text" id="username" placeholder="Enter X Username or URL">
    <button onclick="demoAnalyzeProfile()">Analyze</button>

    <div id="result"></div>
    <div id="botChartContainer" style="display:none;">
      <canvas id="botChart"></canvas>
    </div>

    <div class="joke-box" id="jokeBox"></div>

    <button class="share-btn" id="installBtn">📲 Install Digital Dr Karl</button>
    <button class="share-btn" onclick="shareDoctorKarl()">📤 Share Digital Dr Karl</button>
    <button class="share-btn" onclick="openInfo()">ℹ️ Info & Features</button>

    <div class="social-links">
      <a href="https://twitter.com/DoctorKarl" target="_blank">Follow Dr Karl on Twitter</a>
      <a href="https://www.facebook.com/DrKarl/" target="_blank">Follow Dr Karl on Facebook</a>
      <a href="https://www.instagram.com/doctorkarl/" target="_blank">Follow Dr Karl on Instagram</a>
    </div>

    <footer>
      🚀 Clone this project on GitHub:<br>
      <a href="https://github.com/WebSwiftSEO?tab=repositories" target="_blank" style="color:gold;">WebSwiftSEO Repositories</a>
    </footer>
  </div>

  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeInfo()">&times;</span>
      <h2>About Digital Dr Karl 🧑‍🔬</h2>
      <p><strong>What is this?</strong><br>Analyze X (Twitter) profiles for bots and laugh along the way with Dr Karl’s wisdom and humour.</p>
      <p><strong>Features:</strong></p>
      <ul style="text-align:left;">
        <li>✅ X Profile Analyzer</li>
        <li>✅ Bot Probability Score</li>
        <li>✅ Science Jokes!</li>
        <li>✅ PWA - Installable + Works Offline</li>
      </ul>
      <p><strong>Install:</strong></p>
      <ul style="text-align:left;">
        <li>📲 Android: Tap "Install" button</li>
        <li>📲 iPhone: Tap Share → "Add to Home Screen"</li>
      </ul>
      <p><strong>Clone the code:</strong><br>
        <a href="https://github.com/WebSwiftSEO?tab=repositories" target="_blank" style="color:gold;">WebSwiftSEO Repos</a>
      </p>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    let deferredPrompt;
    let botChart = null;

    const jokes = [
      "Why don't scientists trust atoms? Because they make up everything!",
      "Parallel lines have so much in common. Too bad they’ll never meet.",
      "Schrodinger's cat walks into a bar... and doesn’t.",
      "What did the 0 say to the 8? Nice belt!",
      "How does NASA organize their parties? They planet.",
      "Why did the photon refuse to check its luggage? It was traveling light!",
      "If you’re not part of the solution, you’re part of the precipitate.",
      "Why are chemists great at solving problems? They have all the solutions!"
    ];

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('installBtn').style.display = 'block';
    });

    document.getElementById('installBtn').addEventListener('click', () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(() => deferredPrompt = null);
      }
    });

    window.onload = () => {
      const jokeBox = document.getElementById('jokeBox');
      jokeBox.innerText = jokes[Math.floor(Math.random() * jokes.length)];
    };

    function demoAnalyzeProfile() {
      const username = document.getElementById('username').value;
      const resultDiv = document.getElementById('result');

      if (!username) {
        resultDiv.innerHTML = "<span style='color:red;'>Please enter a username.</span>";
        return;
      }

      const followers = Math.floor(Math.random() * 10000);
      const following = Math.floor(Math.random() * 5000);
      const tweets = Math.floor(Math.random() * 1000);
      const botScore = Math.floor(Math.random() * 100);

      resultDiv.innerHTML = `
        <p><strong>Username:</strong> ${username}</p>
        <p><strong>Followers:</strong> ${followers} Gazillion</p>
        <p><strong>Following:</strong> ${following}</p>
        <p><strong>Total Tweets:</strong> ${tweets}</p>
        <p><strong>🤖 Bot Probability:</strong> ${botScore}%</p>
        <p>${botScore > 60 ? '⚔️ Bot Alert! Might be Skynet!' : '✅ Looks Human!'}</p>
      `;

      document.getElementById('botChartContainer').style.display = 'block';
      createChart(followers, following, tweets, botScore);
    }

    function createChart(followers, following, tweets, botScore) {
      const ctx = document.getElementById('botChart').getContext('2d');
      if (botChart !== null) {
        botChart.destroy();
      }

      botChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Followers', 'Following', 'Tweets', 'Bot Score'],
          datasets: [{
            label: 'Bot Analysis',
            data: [followers, following, tweets, botScore],
            backgroundColor: ['green', 'gold', 'gold', botScore > 60 ? 'red' : 'green']
          }]
        },
        options: {
          responsive: true,
          scales: { y: { beginAtZero: true } }
        }
      });
    }

    function shareDoctorKarl() {
      if (navigator.share) {
        navigator.share({
          title: "Digital Dr Karl",
          text: "Check out this X profile analyzer!",
          url: window.location.href
        }).catch(err => console.log('❌ Share failed:', err));
      } else {
        alert("Sharing not supported on this browser.");
      }
    }

    function openInfo() {
      document.getElementById('infoModal').style.display = 'block';
    }

    function closeInfo() {
      document.getElementById('infoModal').style.display = 'none';
    }
  </script>

</body>

</html>
